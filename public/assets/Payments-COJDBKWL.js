import{a as $,f as T,g as B,h as G,j as s}from"./index-AL1VXq4k.js";import{P as I}from"./PaymentsList-CALJZNsb.js";const J=e=>["payments-search",e];function V(e){const t=$.c(15);let r,n,i,c,o,a;if(t[0]!==e){const{page:m,limit:u,sort:h,username:g}=e===void 0?{}:e;n=m===void 0?1:m,r=u===void 0?10:u,i=h===void 0?"desc":h,a=g===void 0?"":g,o=T,c=J({page:n,limit:r,sort:i,username:a}),t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=c,t[5]=o,t[6]=a}else r=t[1],n=t[2],i=t[3],c=t[4],o=t[5],a=t[6];let l;t[7]!==r||t[8]!==n||t[9]!==i||t[10]!==a?(l=async()=>{const m={page:n,limit:r,sort:i};return a&&(m.username=a),(await B.get("/payments",{params:m})).data.data},t[7]=r,t[8]=n,t[9]=i,t[10]=a,t[11]=l):l=t[11];let f;return t[12]!==c||t[13]!==l?(f={queryKey:c,queryFn:l,keepPreviousData:!0},t[12]=c,t[13]=l,t[14]=f):f=t[14],o(f)}function Z(){const e=$.c(49),[t,r]=G();let n;e[0]!==t?(n=Number(t.get("page"))||1,e[0]=t,e[1]=n):n=e[1];const i=n;let c;e[2]!==t?(c=Number(t.get("limit"))||10,e[2]=t,e[3]=c):c=e[3];const o=c;let a;e[4]!==t?(a=t.get("sort")||"desc",e[4]=t,e[5]=a):a=e[5];const l=a;let f;e[6]!==o||e[7]!==i||e[8]!==l?(f={page:i,limit:o,sort:l},e[6]=o,e[7]=i,e[8]=l,e[9]=f):f=e[9];const{data:m,isLoading:u,isError:h,error:g,isFetching:A}=V(f);let N;e[10]!==m?.payments?(N=m?.payments||[],e[10]=m?.payments,e[11]=N):N=e[11];const F=N,K=m?.pagination?.pages||1,O=m?.pagination?.page||1;let S;e[12]!==r?(S=p=>{r(z=>{const U=new URLSearchParams(z);return Object.entries(p).forEach(D=>{const[H,M]=D;U.set(H,M)}),U})},e[12]=r,e[13]=S):S=e[13];const d=S;let E;e[14]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx("h2",{className:"text-xl font-bold",children:"Payments"}),e[14]=E):E=e[14];let w;e[15]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsx("label",{className:"label",children:"Sort:"}),e[15]=w):w=e[15];let x;e[16]!==d?(x=p=>d({sort:p.target.value,page:1}),e[16]=d,e[17]=x):x=e[17];let C,R;e[18]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx("option",{value:"desc",children:"Newest"}),C=s.jsx("option",{value:"asc",children:"Oldest"}),e[18]=C,e[19]=R):(C=e[18],R=e[19]);let y;e[20]!==l||e[21]!==x?(y=s.jsxs("select",{className:"select select-bordered select-sm w-20",value:l,onChange:x,children:[R,C]}),e[20]=l,e[21]=x,e[22]=y):y=e[22];let L;e[23]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx("label",{className:"label",children:"Page size:"}),e[23]=L):L=e[23];let b;e[24]!==d?(b=p=>d({limit:p.target.value,page:1}),e[24]=d,e[25]=b):b=e[25];let Q,Y,k;e[26]===Symbol.for("react.memo_cache_sentinel")?(Q=s.jsx("option",{value:5,children:"5"}),Y=s.jsx("option",{value:10,children:"10"}),k=s.jsx("option",{value:20,children:"20"}),e[26]=Q,e[27]=Y,e[28]=k):(Q=e[26],Y=e[27],k=e[28]);let j;e[29]!==o||e[30]!==b?(j=s.jsxs("select",{className:"select select-bordered select-sm",value:o,onChange:b,children:[Q,Y,k]}),e[29]=o,e[30]=b,e[31]=j):j=e[31];let P;e[32]!==y||e[33]!==j?(P=s.jsxs("div",{className:"flex flex-wrap gap-4 items-center mb-4 justify-between",children:[E,s.jsxs("div",{className:"flex gap-2 items-center",children:[w,y,L,j]})]}),e[32]=y,e[33]=j,e[34]=P):P=e[34];let v;e[35]!==d?(v=p=>d({page:p}),e[35]=d,e[36]=v):v=e[36];let _;e[37]!==O||e[38]!==g||e[39]!==h||e[40]!==A||e[41]!==u||e[42]!==K||e[43]!==F||e[44]!==v?(_=s.jsx(I,{payments:F,isLoading:u,isError:h,error:g,pageCount:K,currentPage:O,onPageChange:v,isFetching:A}),e[37]=O,e[38]=g,e[39]=h,e[40]=A,e[41]=u,e[42]=K,e[43]=F,e[44]=v,e[45]=_):_=e[45];let q;return e[46]!==P||e[47]!==_?(q=s.jsxs("div",{className:"bg-base-100 rounded-2xl shadow p-8 min-h-[400px]",children:[P,_]}),e[46]=P,e[47]=_,e[48]=q):q=e[48],q}export{Z as default};
