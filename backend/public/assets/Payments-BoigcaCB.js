import{c as I,d as J,r as K,j as s}from"./index-jBZXzTaY.js";import{u as M}from"./usePaymentsQuery-C-_liRgt.js";import{P as T}from"./PaymentsList-CvSIO4N6.js";import"./LoadingText-Bi5rQAxC.js";import"./Pagination-DVixzdPk.js";function ee(){const e=I.c(51),[t,i]=J();let j;e[0]!==t?(j=Number(t.get("page"))||1,e[0]=t,e[1]=j):j=e[1];const z=j;let b;e[2]!==t?(b=Number(t.get("limit"))||10,e[2]=t,e[3]=b):b=e[3];const n=b;let P;e[4]!==t?(P=t.get("sort")||"desc",e[4]=t,e[5]=P):P=e[5];const r=P;let y,v;e[6]!==t||e[7]!==i?(y=()=>{const a=t.has("page"),k=t.has("limit"),x=t.has("sort");if(!a||!k||!x){const g=new URLSearchParams(t);a||g.set("page","1"),k||g.set("limit","10"),x||g.set("sort","desc"),i(g,{replace:!0})}},v=[t,i],e[6]=t,e[7]=i,e[8]=y,e[9]=v):(y=e[8],v=e[9]),K.useEffect(y,v);let N;e[10]!==n||e[11]!==z||e[12]!==r?(N={page:z,limit:n,sort:r},e[10]=n,e[11]=z,e[12]=r,e[13]=N):N=e[13];const{data:u,isLoading:F,isError:Q,error:$,isFetching:q}=M(N);let S;e[14]!==u?.payments?(S=u?.payments||[],e[14]=u?.payments,e[15]=S):S=e[15];const A=S,B=u?.pagination?.pages||1,D=u?.pagination?.page||1;let w;e[16]!==i?(w=a=>{i(k=>{const x=new URLSearchParams(k);return Object.entries(a).forEach(g=>{const[G,H]=g;x.set(G,H)}),x})},e[16]=i,e[17]=w):w=e[17];const l=w;let _;e[18]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx("h2",{className:"text-xl font-bold",children:"Payments"}),e[18]=_):_=e[18];let c;e[19]!==l?(c=a=>l({sort:a.target.value,page:1}),e[19]=l,e[20]=c):c=e[20];let E,L;e[21]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx("option",{value:"desc",children:"Newest"}),L=s.jsx("option",{value:"asc",children:"Oldest"}),e[21]=E,e[22]=L):(E=e[21],L=e[22]);let o;e[23]!==r||e[24]!==c?(o=s.jsxs("label",{className:"label",children:["Sort:",s.jsxs("select",{className:"select select-sm w-fit text-base-content",value:r,onChange:c,children:[E,L]})]}),e[23]=r,e[24]=c,e[25]=o):o=e[25];let m;e[26]!==l?(m=a=>l({limit:a.target.value,page:1}),e[26]=l,e[27]=m):m=e[27];let C,R,O;e[28]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx("option",{value:5,children:"5"}),R=s.jsx("option",{value:10,children:"10"}),O=s.jsx("option",{value:20,children:"20"}),e[28]=C,e[29]=R,e[30]=O):(C=e[28],R=e[29],O=e[30]);let p;e[31]!==n||e[32]!==m?(p=s.jsxs("label",{className:"label",children:["Page size:",s.jsxs("select",{className:"select select-sm text-base-content",value:n,onChange:m,children:[C,R,O]})]}),e[31]=n,e[32]=m,e[33]=p):p=e[33];let f;e[34]!==o||e[35]!==p?(f=s.jsxs("div",{className:"flex flex-wrap gap-4 items-center mb-4 justify-between",children:[_,s.jsxs("div",{className:"flex gap-2 items-center",children:[o,p]})]}),e[34]=o,e[35]=p,e[36]=f):f=e[36];let h;e[37]!==l?(h=a=>l({page:a}),e[37]=l,e[38]=h):h=e[38];let d;e[39]!==D||e[40]!==$||e[41]!==Q||e[42]!==q||e[43]!==F||e[44]!==B||e[45]!==A||e[46]!==h?(d=s.jsx(T,{payments:A,isLoading:F,isError:Q,error:$,pageCount:B,currentPage:D,onPageChange:h,isFetching:q}),e[39]=D,e[40]=$,e[41]=Q,e[42]=q,e[43]=F,e[44]=B,e[45]=A,e[46]=h,e[47]=d):d=e[47];let U;return e[48]!==f||e[49]!==d?(U=s.jsxs("div",{className:"bg-base-100 rounded-2xl shadow p-8 min-h-[400px]",children:[f,d]}),e[48]=f,e[49]=d,e[50]=U):U=e[50],U}export{ee as default};
