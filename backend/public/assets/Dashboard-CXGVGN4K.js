import{c as h,a as b,j as s,L as u,u as j}from"./index-CG82LQ2M.js";import{P as N}from"./PaymentsList-CFLsDAWA.js";import{u as p}from"./usePaymentsQuery-CXm56QyK.js";import{L as y}from"./LoadingText-BT_EYzz6.js";import"./Pagination-DtZ54bI8.js";function g(){const e=h.c(13),{user:l}=b();let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsx("h3",{className:"text-sm font-medium opacity-90 mb-1",children:"Total Balance"}),e[0]=r):r=e[0];let c;e[1]!==l.balance?(c=s.jsxs("div",{children:[r,s.jsx("p",{className:"text-3xl font-bold mb-2 wrap-break-word",children:l.balance})]}),e[1]=l.balance,e[2]=c):c=e[2];let t;e[3]!==l.userName?(t=s.jsxs("span",{className:"text-base font-semibold",children:["@",l.userName]}),e[3]=l.userName,e[4]=t):t=e[4];let a;e[5]!==l.fullName?(a=s.jsx("span",{className:"text-sm text-white",children:l.fullName}),e[5]=l.fullName,e[6]=a):a=e[6];let i;e[7]!==t||e[8]!==a?(i=s.jsxs("div",{className:"flex flex-col gap-0.5",children:[t,a]}),e[7]=t,e[8]=a,e[9]=i):i=e[9];let n;return e[10]!==c||e[11]!==i?(n=s.jsxs("div",{className:"bg-linear-to-br from-blue-500 to-blue-700 rounded-2xl shadow-lg p-6 text-white flex flex-col justify-between min-h-40",children:[c,i]}),e[10]=c,e[11]=i,e[12]=n):n=e[12],n}function w(){const e=h.c(5);let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l={limit:1},e[0]=l):l=e[0];const{data:r,isPending:c}=p(l);if(c){let n;return e[1]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(y,{}),e[1]=n):n=e[1],n}const t=r?.payments?.[0];let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx("h3",{className:"text-sm font-medium opacity-90 mb-1",children:"Latest transaction"}),e[2]=a):a=e[2];let i;return e[3]!==t?(i=s.jsx("div",{className:"relative group bg-linear-to-br from-blue-500 to-blue-700 rounded-2xl shadow-lg p-6 text-white flex flex-col justify-between min-h-40",children:s.jsxs("div",{children:[a,t?s.jsxs(u,{className:"flex flex-col gap-0.5",to:`/payments/${t.paymentId}`,children:[s.jsxs("span",{className:"text-base font-semibold",children:[t.isSender?"Sent":"Received:"," @",t.otherUserName]}),s.jsx("span",{className:"text-white/90",children:t.otherFullName}),s.jsx("span",{className:"text-white text-lg",children:t.amount}),s.jsx("span",{className:"truncate",children:t.description})]}):s.jsx("p",{className:"text-white/80 text-sm",children:"No transactions yet"})]})}),e[3]=t,e[4]=i):i=e[4],i}function k(){const e=h.c(15);let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l={limit:5},e[0]=l):l=e[0];const{data:r,isLoading:c,isError:t,error:a}=p(l),i=j();let n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-4xl mx-auto",children:[s.jsx(w,{}),s.jsx(g,{})]}),e[1]=n):n=e[1];let m;e[2]!==i?(m=s.jsx("div",{className:"flex justify-center",children:s.jsx("button",{className:"btn btn-primary px-8 py-4 text-lg shadow-lg",onClick:()=>i("/users"),children:"Make new payment"})}),e[2]=i,e[3]=m):m=e[3];let d;e[4]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsxs("div",{className:"flex items-center justify-between mb-4 flex-wrap",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Recent Activity"}),s.jsx(u,{to:"/payments",className:"link-primary underline",children:"View all payments"})]}),e[4]=d):d=e[4];let o;e[5]!==r?.payments?(o=r?.payments||[],e[5]=r?.payments,e[6]=o):o=e[6];let x;e[7]!==a||e[8]!==t||e[9]!==c||e[10]!==o?(x=s.jsx("div",{className:"w-full max-w-4xl mx-auto flex flex-col gap-4 h-[75vh] md:h-[85vh]",children:s.jsxs("div",{className:"bg-base-100 rounded-2xl shadow-lg p-6 flex flex-col flex-1",children:[d,s.jsx("div",{className:"flex-1 overflow-y-auto pr-1",children:s.jsx(N,{payments:o,isLoading:c,isError:t,error:a,showPagination:!1})})]})}),e[7]=a,e[8]=t,e[9]=c,e[10]=o,e[11]=x):x=e[11];let f;return e[12]!==m||e[13]!==x?(f=s.jsxs("div",{className:"min-h-screen flex flex-col gap-8 p-4 md:p-8",children:[n,m,x]}),e[12]=m,e[13]=x,e[14]=f):f=e[14],f}export{k as default};
