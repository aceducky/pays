import{c as g,a as h,u as j,j as t,b as u,L as N,t as p,d as v,e as w}from"./index-AL1VXq4k.js";import{P as _}from"./PaymentsList-CALJZNsb.js";/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],L=g("copy",k);function S(){const e=h.c(13),{user:l}=j();let x;e[0]===Symbol.for("react.memo_cache_sentinel")?(x=t.jsx("h3",{className:"text-sm font-medium opacity-90 mb-1",children:"Total Balance"}),e[0]=x):x=e[0];let o;e[1]!==l.balance?(o=t.jsxs("div",{children:[x,t.jsx("p",{className:"text-3xl font-bold mb-2",children:l.balance})]}),e[1]=l.balance,e[2]=o):o=e[2];let s;e[3]!==l.userName?(s=t.jsxs("span",{className:"text-base font-semibold",children:["@",l.userName]}),e[3]=l.userName,e[4]=s):s=e[4];let i;e[5]!==l.fullName?(i=t.jsx("span",{className:"text-sm text-white/80",children:l.fullName}),e[5]=l.fullName,e[6]=i):i=e[6];let n;e[7]!==s||e[8]!==i?(n=t.jsxs("div",{className:"flex flex-col gap-0.5",children:[s,i]}),e[7]=s,e[8]=i,e[9]=n):n=e[9];let a;return e[10]!==o||e[11]!==n?(a=t.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-700 rounded-2xl shadow-lg p-6 text-white flex flex-col justify-between min-h-[160px]",children:[o,n]}),e[10]=o,e[11]=n,e[12]=a):a=e[12],a}function C(){const e=h.c(13);let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l={limit:1},e[0]=l):l=e[0];const{data:x,isPending:o}=u(l);if(o){let c;return e[1]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx(N,{}),e[1]=c):c=e[1],c}const s=x?.payments?.[0];let i;e[2]!==s?(i=async()=>{if(!s)return;const f=`${globalThis.location.origin}/payment/${s.paymentId}`;try{await navigator.clipboard.writeText(f),p.success("Payment link copied to clipboard")}catch(y){const b=y;p.error("Failed to copy link"),console.error(b)}},e[2]=s,e[3]=i):i=e[3];const n=i;let a;e[4]!==n||e[5]!==s?(a=s&&t.jsx("button",{type:"button",onClick:n,"aria-label":"Copy payment link",title:"Copy payment link",className:"absolute top-3 right-3 p-2 rounded-md bg-white/10 backdrop-blur-sm opacity-0 transform translate-y-0 group-hover:opacity-100 group-hover:translate-y-0 transition-opacity duration-200 hover:bg-white/20 hover:cursor-pointer z-10",children:t.jsx(L,{size:16})}),e[4]=n,e[5]=s,e[6]=a):a=e[6];let r;e[7]===Symbol.for("react.memo_cache_sentinel")?(r=t.jsx("h3",{className:"text-sm font-medium opacity-90 mb-1",children:"Latest transaction"}),e[7]=r):r=e[7];let m;e[8]!==s?(m=t.jsxs("div",{children:[r,s?t.jsxs("div",{className:"flex flex-col gap-0.5",children:[t.jsxs("span",{className:"text-base font-semibold",children:[s.isSender?"Sent":"Received:"," @",s.otherUserName]}),t.jsx("span",{className:"text-white/80 text-lg",children:s.amount})]}):t.jsx("p",{className:"text-white/80 text-sm",children:"No transactions yet"})]}),e[8]=s,e[9]=m):m=e[9];let d;return e[10]!==a||e[11]!==m?(d=t.jsxs("div",{className:"relative group bg-gradient-to-br from-blue-500 to-blue-700 rounded-2xl shadow-lg p-6 text-white flex flex-col justify-between min-h-[160px]",children:[a,m]}),e[10]=a,e[11]=m,e[12]=d):d=e[12],d}function $(){const e=h.c(15);let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l={limit:5},e[0]=l):l=e[0];const{data:x,isLoading:o,isError:s,error:i}=u(l),n=v();let a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-4xl mx-auto",children:[t.jsx(C,{}),t.jsx(S,{})]}),e[1]=a):a=e[1];let r;e[2]!==n?(r=t.jsx("div",{className:"flex justify-center",children:t.jsx("button",{className:"btn btn-primary px-8 py-4 text-lg shadow-lg",onClick:()=>n("/users"),children:"Make new payment"})}),e[2]=n,e[3]=r):r=e[3];let m;e[4]===Symbol.for("react.memo_cache_sentinel")?(m=t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-xl font-bold",children:"Recent Activity"}),t.jsx(w,{to:"/payments",className:"btn btn-link btn-sm px-0",children:"View all payments"})]}),e[4]=m):m=e[4];let d;e[5]!==x?.payments?(d=x?.payments||[],e[5]=x?.payments,e[6]=d):d=e[6];let c;e[7]!==i||e[8]!==s||e[9]!==o||e[10]!==d?(c=t.jsx("div",{className:"w-full max-w-4xl mx-auto flex flex-col gap-4 h-[75vh] md:h-[85vh]",children:t.jsxs("div",{className:"bg-base-100 rounded-2xl shadow-lg p-6 flex flex-col flex-1",children:[m,t.jsx("div",{className:"flex-1 overflow-y-auto pr-1",children:t.jsx(_,{payments:d,isLoading:o,isError:s,error:i,showPagination:!1})})]})}),e[7]=i,e[8]=s,e[9]=o,e[10]=d,e[11]=c):c=e[11];let f;return e[12]!==r||e[13]!==c?(f=t.jsxs("div",{className:"min-h-screen flex flex-col gap-8 p-4 md:p-8",children:[a,r,c]}),e[12]=r,e[13]=c,e[14]=f):f=e[14],f}export{$ as default};
